import{_ as f,a as r}from"./index.7f831b4b.js";import{R as v}from"./RankItem.6e0e0fdf.js";import{r as d,h as x,o as s,c as m,a as l,g as D,t as C,b as g,F as _,f as w,w as R,q as b,y,s as G}from"./vendor.8394f990.js";import{P as B}from"./Pagination.6d18fb05.js";const P={emits:["click-title"],props:{title:String,data:Array},methods:{delayto(t){setTimeout(()=>{this.$router.push(t)},150)}},components:{RankItem:v}},T={class:"rounded-lg bg-dark-white h-fit space-y-4 pb-4"},z={class:"flex justify-between items-center text-base font-bold text-white rounded-t-lg bg-primary-red py-2 px-3"},V={class:"space-y-8 px-5"};function j(t,e,p,S,a,n){const u=d("font-awesome-icon"),h=d("RankItem"),k=x("wave");return s(),m("div",T,[l("div",z,[D(C(p.title)+" ",1),g(u,{class:"cursor-pointer active:text-sm",icon:"chevron-right",onClick:e[0]||(e[0]=i=>t.$emit("click-title"))})]),l("div",V,[(s(!0),m(_,null,w(p.data,(i,o)=>R((s(),b(h,y({icon:12,class:"mx-auto shadow-lg",key:o},i,{score:i.publicScore,index:o,onClick:c=>n.delayto(`/gamedetail?id=${i.id}`)}),null,16,["score","index","onClick"])),[[k]])),128))])])}var I=f(P,[["render",j]]);const $={components:{SmallRankCard:I,RankItem:v,Pagination:B},data(){return{hotGameRank:[],hightScoreRank:[],bigRankData:[],page:{cur:1,size:12}}},mounted(){this.hotGameRank=r.getGameData(100),this.hightScoreRank=r.getGameData(100).sort((t,e)=>e.publicScore-t.publicScore),this.bigRankData=[...r.getGameData(100),...r.getGameData(100),...r.getGameData(100),...r.getGameData(100)]},methods:{pageUpBound(){return this.page.cur*this.page.size},pageLowBound(){return(this.page.cur-1)*this.page.size},changeTo(t){this.bigRankData=t},delayto(t){setTimeout(()=>{this.$router.push(t)},150)}}},N={class:"my-10 mx-auto w-8/12 flex justify-around items-start"},L={style:{width:"300px"},class:"space-y-8"},U={style:{width:"640px"},class:"bg-dark-white rounded-lg"},F=l("div",{class:"bg-primary-red font-bold text-white py-2 rounded-t-lg"}," \u6392\u884C\u699C ",-1),q={class:"grid grid-flow-col grid-rows-6 gap-x-2 gap-y-5 p-4"};function A(t,e,p,S,a,n){const u=d("SmallRankCard"),h=d("RankItem"),k=d("Pagination"),i=x("wave");return s(),m("div",N,[l("div",L,[g(u,{class:"w-full",title:"\u70ED\u73A9\u6392\u884C",data:a.hotGameRank.slice(0,3),onClickTitle:e[0]||(e[0]=o=>n.changeTo(a.hotGameRank))},null,8,["data"]),g(u,{class:"w-full",title:"\u9AD8\u5206\u6392\u884C",data:a.hightScoreRank.slice(0,3),onClickTitle:e[1]||(e[1]=o=>n.changeTo(a.hightScoreRank))},null,8,["data"])]),l("div",U,[F,l("div",q,[(s(!0),m(_,null,w(a.bigRankData,(o,c)=>(s(),m(_,{key:c},[c>=n.pageLowBound()&&c<n.pageUpBound()?R((s(),b(h,y({key:0,class:"max-w-xs",iconSize:16,indexSize:"xl",index:c,score:o.publicScore},o,{onClick:E=>n.delayto(`/gamedetail?id=${o.id}`)}),null,16,["index","score","onClick"])),[[i]]):G("",!0)],64))),128))]),g(k,{modelValue:a.page.cur,"onUpdate:modelValue":e[2]||(e[2]=o=>a.page.cur=o),class:"w-full mb-2",maxNum:4,fontSize:"sm",totalPage:Math.ceil(a.bigRankData.length/a.page.size)},null,8,["modelValue","totalPage"])])])}var O=f($,[["render",A]]);export{O as default};
