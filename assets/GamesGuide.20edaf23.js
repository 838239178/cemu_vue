import{A as h}from"./AnimNum.9f02a97a.js";import{r as n,o as i,c as u,a as r,b as m,n as p,t as x,F as v,f,q as g}from"./vendor.084c55b8.js";import{_ as w}from"./index.cb77e3ee.js";const y={emits:["changed","click-post","update:modelValue"],props:{games:{type:Array,default:()=>[]},modelValue:Number,interval:{default:()=>4e4}},watch:{games(s){this.switchPoster(s[0].pics[0])},modelValue(s){this.curIdx=s,this.switchPoster(this.curItem().pics[0])}},data(){return{curIdx:this.modelValue||0,curPoster:"",timer:null,isswitch:!1,pause:!1}},mounted(){this.start()},unmounted(){this.release()},methods:{start(){this.timer=setInterval(()=>{this.pause||this.curIdx+1<this.games.length&&(this.curIdx++,this.$emit("update:modelValue",this.curIdx,this.curIdx-1))},this.interval)},release(){clearInterval(this.timer),this.timer=null},onHover(){this.pause=!0},onOutHover(){this.pause=!1},switchPoster(s){this.isswitch=!0,setTimeout(()=>{this.curPoster=s,this.isswitch=!1},100)},curItem(){return this.games[this.curIdx]||{name:"",pics:[""]}}},components:{AnimNum:h}},_={style:{"box-shadow":"5px 0px 15px #000",height:"353px"}},I={style:{"max-width":"33%"},class:"space-y-4"},b={class:"text-left text-xl text-dark-white px-3 py-2"},k={class:"grid grid-rows-2 grid-flow-col gap-3"},V={class:"text-dark-white space-x-2"},N=r("span",{class:"text-base"},"\u5A92\u4F53\u8BC4\u5206:",-1);function P(s,a,A,H,o,e){const l=n("el-image"),d=n("AnimNum");return i(),u("div",{class:"flex justify-center items-center bg-light-dark bg-opacity-50 pr-4",onMouseover:a[1]||(a[1]=(...t)=>e.onHover&&e.onHover(...t)),onMouseout:a[2]||(a[2]=(...t)=>e.onOutHover&&e.onOutHover(...t))},[r("div",_,[m(l,{class:p([o.isswitch?"opacity-0":"opacity-100","duration-150 transition-opacity ease-out"]),style:{width:"616px",height:"353px"},fit:"fill",src:o.curPoster},null,8,["class","src"])]),r("div",I,[r("div",b,x(e.curItem().name),1),r("div",k,[(i(!0),u(v,null,f(e.curItem().pics,(t,c)=>(i(),g(l,{class:"opacity-50 hover:opacity-100 shadow-inner",key:c,src:t,onMouseover:j=>e.switchPoster(t,c)},null,8,["src","onMouseover"]))),128))]),r("div",V,[N,m(d,{class:"font-semibold text-xl antialiased",value:e.curItem().mediaScore,duration:300,formatValue:t=>t.toFixed(1)},null,8,["value","formatValue"])]),r("button",{class:"bg-primary-red text-white px-5 rounded-3xl text-sm py-2 shadow hover:opacity-80 active:scale-95 transform transition-all",onClick:a[0]||(a[0]=t=>s.$router.push(`/gamedetail?id=${e.curItem().id}`))}," \u7ACB\u5373\u67E5\u770B ")])],32)}var F=w(y,[["render",P]]);export{F as G};
