var I=Object.defineProperty;var _=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var w=(e,t,s)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,v=(e,t)=>{for(var s in t||(t={}))b.call(t,s)&&w(e,s,t[s]);if(_)for(var s of _(t))C.call(t,s)&&w(e,s,t[s]);return e};import{_ as g,a as k}from"./index.cb77e3ee.js";import{G as N}from"./GamesGuide.20edaf23.js";/* empty css                   */import{r as u,o as m,c,F as y,f as $,b as r,a as o,t as x,n as A}from"./vendor.084c55b8.js";import"./AnimNum.9f02a97a.js";const V={emits:["update:modelValue"],props:{games:{default:()=>[]},maxNum:{default:()=>3},modelValue:Number},watch:{games(e){this.gameArr=e,this.gamesInit()},modelValue(e,t){this.setCurrentIndex(e,t)}},data(){return{currentIndex:this.modelValue||0,gameArr:this.games,exArr:[]}},mounted(){this.gamesInit()},methods:{gamesInit(){let e=this.gameArr.length%this.maxNum;this.exArr=this.gameArr.splice(this.gameArr.length-e,e)},switchGames(e,t){let s=e/this.maxNum,h=this.$refs.container.clientWidth+10,a=h*s;console.log(`next=${e},rate=${s},width=${h},go=${a}`),[...this.$refs.container.children].forEach((n,i)=>{e>t?n.style.transform=`translateX(-${a}px)`:n.style.transform=`translateX(-${a}px)`})},setCurrentIndex(e,t){this.currentIndex=e,this.switchGames(e,t)},pre(){this.currentIndex>=this.maxNum&&this.setCurrentIndex(this.currentIndex-this.maxNum,this.currentIndex),console.log(this.currentIndex)},next(){this.currentIndex<this.gameArr.length-this.maxNum&&this.setCurrentIndex(this.currentIndex+this.maxNum,this.currentIndex),console.log(this.currentIndex)}}},j={class:"w-full mx-auto overflow-hidden space-x-4 whitespace-nowrap",ref:"container"},B={class:"rounded-b-lg absolute left-0 bottom-0 w-full bg-gradient-to-t from-primary-black via-light-dark flex justify-between items-center"},P={class:"m-2 text-left space-y-2",style:{"max-width":"70%"}},S={class:"hidden-wrap text-dark-white font-semibold text-s2b",style:{"text-shadow":"2px 2px 5px #000"}},D={class:"hidden-wrap text-xs text-primary-gray"},E={class:"text-lg font-semibold text-white bg-primary-red px-2 rounded-3xl mr-4"};function F(e,t,s,h,a,n){const i=u("el-image");return m(),c("div",j,[(m(!0),c(y,null,$(a.gameArr,(l,f)=>(m(),c("div",{key:"image"+f,class:"rounded-lg relative pt-2 px-1 inline-block transition-transform duration-300 ease-in",style:{"max-width":"32%",height:"360px"}},[r(i,{class:"h-full rounded-lg opacity-80 cursor-pointer hover:opacity-100 transition-opacity duration-200",fit:"cover",src:l.pics[0],style:{"box-shadow":"3px 5px 10px #000"},onClick:d=>e.$router.push(`/gamedetail?id=${l.id}`)},null,8,["src","onClick"]),o("div",B,[o("div",P,[o("div",S,x(l.name),1),o("div",D,x(l.desc),1)]),o("div",E,x(l.mediaScore),1)])]))),128))],512)}var X=g(V,[["render",F]]);const z={props:{direc:{default:()=>"left"}},computed:{btnClass(){return this.direc=="left"?"bg-gradient-to-r trans-l":"bg-gradient-to-l trans-r"}}};function L(e,t,s,h,a,n){const i=u("font-awesome-icon");return m(),c("button",{class:A(["switch-guide",n.btnClass])},[r(i,{icon:`chevron-${s.direc}`},null,8,["icon"])],2)}var U=g(z,[["render",L],["__scopeId","data-v-f2af4622"]]);const W={components:{GamesGuide:N,GameCardPanel:X,SwitchButton:U},data(){return{hotGames:[],gameIdx:0,panels:[{title:"",games:[]}]}},mounted(){this.hotGames=k.getGameDataAll();let e={};e.title="\u72EC\u7ACB\u6E38\u620F\u63A8\u8350",e.games=[...this.hotGames,...this.hotGames,...this.hotGames].slice(0,10),this.panels[0]=v({},e),e.title="\u4EBA\u6C14\u6E38\u73A9\u63A8\u8350",this.panels[1]=e},methods:{switchGame(e){e>0&&this.gameIdx+e<this.hotGames.length?this.gameIdx+=e:e<0&&this.gameIdx+e>=0&&(this.gameIdx+=e)},swithPanel(e,t){let s=this.$refs["gp-"+e];t>0?s.next():s.pre()}}},q={class:"w-7/10 mx-auto my-10 space-y-10"},H={class:"flex justify-center items-center w-full"},J={class:"subtitle"},K={class:"flex justify-around items-center"};function M(e,t,s,h,a,n){const i=u("SwitchButton"),l=u("GamesGuide"),f=u("GameCardPanel");return m(),c("div",q,[o("div",H,[r(i,{direc:"left",onClick:t[0]||(t[0]=d=>n.switchGame(-1))}),r(l,{modelValue:a.gameIdx,"onUpdate:modelValue":t[1]||(t[1]=d=>a.gameIdx=d),style:{width:"940px",height:"353px"},class:"shadow-sm",games:a.hotGames},null,8,["modelValue","games"]),r(i,{direc:"right",onClick:t[2]||(t[2]=d=>n.switchGame(1))})]),(m(!0),c(y,null,$(a.panels,(d,p)=>(m(),c("div",{key:p,class:"space-y-8 mx-auto",style:{width:"82%"}},[o("div",J,x(d.title),1),o("div",K,[r(i,{direc:"left",onClick:G=>n.swithPanel(p,-1)},null,8,["onClick"]),r(f,{ref:`gp-${p}`,games:d.games},null,8,["games"]),r(i,{direc:"right",onClick:G=>n.swithPanel(p,1)},null,8,["onClick"])])]))),128))])}var ee=g(W,[["render",M]]);export{ee as default};
