import{r as i,h as T,w as I,o as n,c as r,b as l,d as c,a as e,n as k,t as d,x as D,g as C,F as g,f as y,e as B,u as b,m as S}from"./vendor.3b2a839d.js";import{_ as P,a as x}from"./index.43bf9f0d.js";import{C as N}from"./CardTabs.6dfc46cf.js";const $={emits:["click-post"],props:{postData:{default:()=>({title:"\u300A\u6697\u9ED1\u5730\u72622\u300B\u62A2\u5148\u8BC4\u6D4B\uFF1A\u4EBA\u7C7B\uFF0C\u5728\u5E0C\u671B\u7684\u7EDD\u8DEF\u4E0A\u72C2\u5954",desc:"\u5E0C\u671B\u6240\u6709\u4EBA\u90FD\u4E0D\u5FC5\u518D\u6210\u4E3A\u5B64\u9AD8\u7684\u82F1\u96C4",date:new Date().toLocaleString("chinese",{hour12:!1}),author:"IGN\u4E2D\u56FD",pic:"https://www.ign.com.cn/sm/t/ign_cn/screenshot/default/2021111702405800-9e32ac640f095d6cacba21f3cd092595_vrpp.280.jpg",score:8.5})},score:{default:()=>!1},showDate:{default:()=>!1}},data(){return{}}},z={class:"relative"},V={key:0,class:"select-none transform duration-150 hover:rotate-12 absolute left-0 bottom-1 bg-primary-red text-white font-bold text-center rounded-md w-11 h-6"},F={key:0,class:"w-full text-sm text-primary-gray flex justify-between items-center"},L={class:"text-xs px-2"},A={class:"text-xs text-wrap"},M={key:1,class:"text-xs px-2 text-right w-full text-primary-red"};function U(o,s,t,E,_,u){const h=i("el-image"),m=i("el-col"),f=i("font-awesome-icon"),p=i("el-row"),v=T("wave");return I((n(),r("div",{class:k(["shadow-lg bg-white",t.showDate?"rounded-2xl":"rounded-lg"]),onClick:s[0]||(s[0]=R=>o.$emit("click-post",t.postData))},[l(p,{gutter:10,align:"middle",justify:"space-around",class:"h-full w-full",style:{margin:"0px"}},{default:c(()=>[l(m,{span:t.showDate?8:11,offset:0},{default:c(()=>[e("div",z,[l(h,{class:k(["rounded-md",t.showDate?"bigImg":"smallImg"]),lazy:"",src:t.postData.pic},null,8,["class","src"]),t.score?(n(),r("div",V,d(t.postData.score),1)):D("",!0)])]),_:1},8,["span"]),l(m,{span:t.showDate?16:13,offset:0,class:"h-full"},{default:c(()=>[e("div",{class:k(["text-left py-2 px-1",t.showDate?"space-y-3":"space-y-2"])},[t.showDate?(n(),r("div",F,[e("div",null,[l(f,{icon:"clock"}),C(" "+d(t.postData.date),1)]),e("div",L,d(t.postData.author),1)])):D("",!0),e("div",{class:k([[t.showDate?"text-base":"mb-1 text-sm"],"font-bold overflow-ellipsis whitespace-nowrap overflow-hidden"])},d(t.postData.title),3),e("div",A,d(t.postData.desc),1),t.showDate?D("",!0):(n(),r("div",M,d(t.postData.author),1))],2)]),_:1},8,["span"])]),_:1})],2)),[[v]])}var q=P($,[["render",U]]);const H={emits:["click-btn"],props:{name:{default:()=>"\u4E0A\u53E4\u5377\u8F745\uFF1A\u5929\u9645"},index:{default:()=>1},tags:{default:()=>["\u5267\u60C5","\u7ECF\u5178","\u5F00\u653E\u4E16\u754C"]},score:{default:()=>8.5},icon:{default:()=>"https://img.3dmgame.com/uploads/images/thumbkwdfirst/20180529/1527578329_606706.jpg"}}},J={class:"px-2"},K={class:"text-left text-lg font-extrabold hidden-wrap"},O={class:"flex justify-between items-center"},Q={class:"bg-primary-red px-2 text-sm text-white text-center rounded-xl"};function W(o,s,t,E,_,u){const h=i("el-col"),m=i("el-image"),f=i("el-row");return n(),r("div",J,[l(f,{align:"middle",justify:"space-around"},{default:c(()=>[l(h,{span:2,offset:0,class:"text-2xl font-bold primary-gray-color"},{default:c(()=>[C(d(t.index+1)+". ",1)]),_:1}),l(h,{span:6,offset:0},{default:c(()=>[l(m,{class:"w-20 h-20 rounded-sm",style:{"box-shadow":"5px 5px 10px #bbb"},src:t.icon,fit:"fill",lazy:!0},null,8,["src"])]),_:1}),l(h,{span:11,class:"space-y-4 px-2"},{default:c(()=>[e("div",K,d(t.name),1),e("div",O,[e("div",Q,d(t.score),1),(n(!0),r(g,null,y(t.tags,(p,v)=>(n(),r("div",{key:v,class:"underline text-xs text-primary-gray"},d(p),1))),128))])]),_:1}),l(h,{span:5},{default:c(()=>[e("button",{onClick:s[0]||(s[0]=p=>o.$emit("click-btn",t.index)),class:"py-1 hover:scale-105 active:ring-red-500 transform duration-200 active:ring-2 rounded-xl px-3 text-sm bg-primary-red text-white text-center"}," \u8BE6\u60C5 ")]),_:1})]),_:1})])}var X=P(H,[["render",W]]);const Y={components:{PostCardItem:q,RankCardItem:X,CardTabs:N},props:{welcome:{type:Boolean,default:()=>!1}},data(){return{curReports:null,curEvals:null,hotGame:[],hotReportPosts:[],hotEvalPosts:[],newestReportPosts:[],newestEvalPosts:[],adImgs:[],ranks:[],cardTab:"bg-primary-black text-primary-gray rounded-t border-primary-black border focus:bg-primary-red focus:text-white focus:font-bold"}},mounted(){this.ranks=x.getGameData(4).sort((o,s)=>s.publicScore-o.publicScore),this.hotEvalPosts=x.getGameEvals(12).sort((o,s)=>s.hotPoint-o.hotPoint).slice(0,5),this.newestEvalPosts=x.getGameEvals(5),this.hotReportPosts=x.getGameReports(12).sort((o,s)=>s.hotPoint-o.hotPoint).slice(0,4),this.newestReportPosts=x.getGameReports(4),this.hotGame=x.getGameData(4).sort((o,s)=>s.hotPoint-o.hotPoint),this.adImgs=x.getAd(),this.curReports=this.hotReportPosts,this.curEvals=this.newestEvalPosts},methods:{switchEval(o,s){console.log("eval:"+o),this.curEvals==this.newestEvalPosts?this.curEvals=this.hotEvalPosts:this.curEvals=this.newestEvalPosts},switchReport(o,s){console.log("report:"+o),this.curReports==this.newestReportPosts?this.curReports=this.hotReportPosts:this.curReports=this.newestReportPosts},linkto(o,s=0){s==0?this.$router.push(o):setTimeout(()=>{this.$router.push(o)},150)}}},Z={class:"h-32 w-full relative shadow-inner",style:{"background-image":"url('https://cdn.jsdelivr.net/gh/838239178/PicgoBed@main/img/eb288b449e0b23c2e5559ee59668648cd7459b33.png')"}},tt={class:"absolute left-44 bottom-2 z-10 text-6xl text-white subpixel-antialiased font-extrabold font-mono txt-shadow"},et=C(" CEMU"),st=e("span",{class:"text-primary-red text-8xl games"}," Games",-1),ot=[et,st],at={class:"flex justify-center items-center my-5 mx-auto"},nt={class:"h812px space-y-9 rounded-sm"},lt={class:"bg-dark-white w400px h538 mx-auto space-y-4 rounded-lg card-shadow"},it={class:"bg-dark-white w620px h812px ml-1 mr-12 space-y-6 rounded-xl card-shadow"},rt={class:"w400px h812px space-y-7"},ct={class:"mx-auto rounded-sm",style:{width:"360px",height:"202px"}},dt={class:"bg-dark-white w400px mx-auto rounded-md card-shadow",style:{height:"580px"}},ut={class:"font-black flex justify-between items-center px-6 pb-4 pt-9 text-2xl"},ht=C(" \u9AD8\u5206\u6392\u884C "),_t={class:"space-y-3 divide-y divide-primary-gray divide-opacity-30"},mt=e("div",{style:{"min-height":"25px"}},null,-1);function pt(o,s,t,E,_,u){const h=i("el-image"),m=i("el-carousel-item"),f=i("el-carousel"),p=i("CardTabs"),v=i("PostCardItem"),R=i("font-awesome-icon"),j=i("rank-card-item");return n(),r("div",null,[e("div",Z,[I(e("div",tt,ot,512),[[B,!t.welcome]])]),e("div",at,[e("div",nt,[l(f,{height:"236px",style:{width:"505px"}},{default:c(()=>[(n(!0),r(g,null,y(_.hotGame,a=>(n(),b(m,{key:a.id},{default:c(()=>[l(h,{fit:"fill",src:a.pics[0],onClick:w=>u.linkto(`/gamedetail?id=${a.id}`),class:"w420px h236"},null,8,["src","onClick"])]),_:2},1024))),128))]),_:1}),e("div",lt,[l(p,{class:"text-xs h-10",tabClass:"w-20 h-7-5",tabs:["\u70ED\u95E8\u8D44\u8BAF","\u6700\u65B0\u8D44\u8BAF"],onTabClick:u.switchReport},null,8,["onTabClick"]),(n(!0),r(g,null,y(_.curReports,a=>(n(),b(v,{key:a.id,postData:a,class:"mx-auto",style:{width:"352px",height:"100px"},onClick:w=>u.linkto(`/postdetail?id=${a.id}`,150)},null,8,["postData","onClick"]))),128))])]),e("div",it,[l(p,{class:"text-sm h-14",tabClass:"w-32 h-10",tabs:["\u6700\u65B0\u8BC4\u6D4B","\u70ED\u95E8\u8BC4\u6D4B"],onTabClick:u.switchEval},null,8,["onTabClick"]),(n(!0),r(g,null,y(_.curEvals,(a,w)=>(n(),b(v,{key:w,score:!0,showDate:!0,postData:a,class:"mx-auto",style:{width:"582px",height:"120px"},onClick:G=>u.linkto(`/postdetail?id=${a.id}`,150)},null,8,["postData","onClick"]))),128))]),e("div",rt,[e("div",ct,[l(f,{height:"202px","indicator-position":"none",interval:6e3},{default:c(()=>[(n(!0),r(g,null,y(_.adImgs,a=>(n(),b(m,{key:a},{default:c(()=>[l(h,{src:a,style:{width:"360px",height:"202px"}},null,8,["src"])]),_:2},1024))),128))]),_:1})]),e("div",dt,[e("div",ut,[ht,l(R,{class:"cursor-pointer hover:text-primary-red transition duration-200 active:text-xl",onClick:s[0]||(s[0]=a=>u.linkto("/rank")),icon:"chevron-right"})]),e("div",_t,[(n(!0),r(g,null,y(_.ranks,(a,w)=>(n(),b(j,S({key:w,onClickBtn:G=>u.linkto(`/gamedetail?id=${a.id}`)},a,{index:w,score:a.publicScore,class:"py-3 mx-auto",style:{width:"372px",height:"104px"}}),null,16,["onClickBtn","index","score"]))),128))])])])]),mt])}var wt=P(Y,[["render",pt]]);export{wt as default};
